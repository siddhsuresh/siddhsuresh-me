"<!--\r\nThanks for opening a PR! Your contribution is much appreciated.\r\nTo make sure your PR is handled as smoothly as possible please:\r\n - Link issue via \"Closes #[issue_number]\r\n - Choose & follow the right checklist for the change that you're making:\r\n-->\r\n\r\nCloses: #3813 \r\n\r\nFixes\r\n> Migrate over recipe functionality from legacy framework.\r\n> \r\n> Some recipes still need to be updated to work with blitz 2.0 (#3813)\r\n\r\nfrom #3784\r\n\r\n\r\n### What are the changes and their implications?\r\n- [x] updated export from ```transformBlitzConfig``` --> ```transformNextConfig``` in ```packages/blitz/src/installer/transforms/transform-next-config.ts```\r\n- [x] updated the blitz imports in the recipe templates\r\n- [x] moved the apps/pages directory to pages directory in few recipe templates to follow Nextjs file structure   \r\n- [x] recipes/secureheaders\r\n#### After\r\n```js\r\n// @ts-check\r\n\r\nconst withBundleAnalyzer = require(\"@next/bundle-analyzer\")({\r\n  enabled: process.env.ANALYZE === \"true\",\r\n})\r\nconst { withBlitz } = require(\"@blitzjs/next\")\r\n\r\n/**\r\n * @type {import('@blitzjs/next').BlitzConfig}\r\n **/\r\nconst config = {\r\n  reactStrictMode: true,\r\n\r\n  headers: async () => {\r\n    return [{\r\n      key: \"Strict-Transport-Security\",\r\n      value: \"max-age=631138519\"\r\n    }, {\r\n      key: \"X-Frame-Options\",\r\n      value: \"sameorigin\"\r\n    }, {\r\n      key: \"X-Content-Type-Options\",\r\n      value: \"nosniff\"\r\n    }, {\r\n      key: \"Permissions-Policy\",\r\n      value: \"default 'none'\"\r\n    }];\r\n  },\r\n\r\n  poweredByHeader: false\r\n}\r\n\r\nmodule.exports = withBlitz(withBundleAnalyzer(config))\r\n```\r\n\r\n![image](https://user-images.githubusercontent.com/83594610/188283722-ff3dfc58-0590-4415-882e-915af794afa7.png)\r\n\r\n - [x]  recipes/theme-ui\r\n\r\n![image](https://user-images.githubusercontent.com/83594610/188283574-1c3aa39d-fd5d-4978-8221-416a14b9b982.png)\r\n\r\n - [x]  recipes/vanilla-extract\r\n \r\n![image](https://user-images.githubusercontent.com/83594610/188283503-8df73897-4de0-4a6a-b70a-ef4356c471d3.png)\r\n"