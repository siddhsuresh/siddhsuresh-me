"<!--\r\nThanks for opening a PR! Your contribution is much appreciated.\r\nTo make sure your PR is handled as smoothly as possible please:\r\n - Link issue via \"Closes #[issue_number]\r\n - Choose & follow the right checklist for the change that you're making:\r\n-->\r\n\r\nCloses: #3592\r\n\r\n### What are the changes and their implications?\r\n\r\n- The error mentioned in the issue is due to esbuild currently not able to transpile lower than ```es6```.  \r\n- So added the line to the ```esbuild``` options given to build the custom server. \r\n- This config will override any target config that is configured in ```tsconfig.json``` which ```esbuild``` uses as a fallback\r\n\r\n- [x] added ```target:\"es6\"``` to the esbuild options for custom server\r\n\r\n#### Tested using example given in https://nextjs.org/docs/advanced-features/custom-server in typescript import syntax\r\n```ts\r\n// server.ts\r\nimport { createServer } from 'http'\r\nimport { parse } from 'url'\r\nimport next from 'next'\r\n\r\nconst dev = process.env.NODE_ENV !== 'production'\r\nconst hostname = 'localhost'\r\nconst port = 3000\r\n// when using middleware `hostname` and `port` must be provided below\r\nconst app = next({ dev, hostname, port })\r\nconst handle = app.getRequestHandler()\r\n\r\napp.prepare().then(() => {\r\n  createServer(async (req, res) => {\r\n    try {\r\n      // Be sure to pass `true` as the second argument to `url.parse`.\r\n      // This tells it to parse the query portion of the URL.\r\n      const parsedUrl = parse(req.url, true)\r\n      const { pathname, query } = parsedUrl\r\n\r\n      if (pathname === '/a') {\r\n        await app.render(req, res, '/a', query)\r\n      } else if (pathname === '/b') {\r\n        await app.render(req, res, '/b', query)\r\n      } else {\r\n        await handle(req, res, parsedUrl)\r\n      }\r\n    } catch (err) {\r\n      console.error('Error occurred handling', req.url, err)\r\n      res.statusCode = 500\r\n      res.end('internal server error')\r\n    }\r\n  }).listen(port, (err) => {\r\n    if (err) throw err\r\n    console.log(`> Ready on http://${hostname}:${port}`)\r\n  })\r\n})\r\n```\r\n\r\n#### Output when running ```blitz dev```\r\n![image](https://user-images.githubusercontent.com/83594610/194472716-4744fefe-2a9a-44ad-9ab3-d0e32130e58b.png)\r\n"